\section{liblzma/common/index\-\_\-decoder.c File Reference}
\label{index__decoder_8c}\index{liblzma/common/index\-\_\-decoder.\-c@{liblzma/common/index\-\_\-decoder.\-c}}


Decodes the Index field.  


{\ttfamily \#include \char`\"{}index.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}check.\-h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct {\bf lzma\-\_\-coder\-\_\-s}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static {\bf lzma\-\_\-ret} {\bfseries index\-\_\-decode} ({\bf lzma\-\_\-coder} $\ast$coder, {\bf lzma\-\_\-allocator} $\ast$allocator, const uint8\-\_\-t $\ast$restrict in, size\-\_\-t $\ast$restrict in\-\_\-pos, size\-\_\-t in\-\_\-size, uint8\-\_\-t $\ast$restrict out lzma\-\_\-attribute((\-\_\-\-\_\-unused\-\_\-\-\_\-)), size\-\_\-t $\ast$restrict out\-\_\-pos lzma\-\_\-attribute((\-\_\-\-\_\-unused\-\_\-\-\_\-)), size\-\_\-t out\-\_\-size lzma\-\_\-attribute((\-\_\-\-\_\-unused\-\_\-\-\_\-)), {\bf lzma\-\_\-action} action lzma\-\_\-attribute((\-\_\-\-\_\-unused\-\_\-\-\_\-)))\label{index__decoder_8c_ae03ace1f7f984dc4964b67e09763cbf4}

\item 
static void {\bfseries index\-\_\-decoder\-\_\-end} ({\bf lzma\-\_\-coder} $\ast$coder, {\bf lzma\-\_\-allocator} $\ast$allocator)\label{index__decoder_8c_a45fc6eb4e4503dc452cfab81d4a473be}

\item 
static {\bf lzma\-\_\-ret} {\bfseries index\-\_\-decoder\-\_\-memconfig} ({\bf lzma\-\_\-coder} $\ast$coder, uint64\-\_\-t $\ast$memusage, uint64\-\_\-t $\ast$old\-\_\-memlimit, uint64\-\_\-t new\-\_\-memlimit)\label{index__decoder_8c_a042550d8b3446f4a3d018e02706a8fa6}

\item 
static {\bf lzma\-\_\-ret} {\bfseries index\-\_\-decoder\-\_\-reset} ({\bf lzma\-\_\-coder} $\ast$coder, {\bf lzma\-\_\-allocator} $\ast$allocator, {\bf lzma\-\_\-index} $\ast$$\ast$i, uint64\-\_\-t memlimit)\label{index__decoder_8c_a196c60308abf8dcf029cf86430ad9511}

\item 
static {\bf lzma\-\_\-ret} {\bfseries index\-\_\-decoder\-\_\-init} ({\bf lzma\-\_\-next\-\_\-coder} $\ast$next, {\bf lzma\-\_\-allocator} $\ast$allocator, {\bf lzma\-\_\-index} $\ast$$\ast$i, uint64\-\_\-t memlimit)\label{index__decoder_8c_a90abb4a3bef9ae60d5038af401e72092}

\item 
{\bf lzma\-\_\-ret} {\bf lzma\-\_\-index\-\_\-decoder} ({\bf lzma\-\_\-stream} $\ast${\bf strm}, {\bf lzma\-\_\-index} $\ast$$\ast$i, uint64\-\_\-t memlimit)
\begin{DoxyCompactList}\small\item\em Initialize .xz Index decoder. \end{DoxyCompactList}\item 
{\bf lzma\-\_\-ret} {\bf lzma\-\_\-index\-\_\-buffer\-\_\-decode} ({\bf lzma\-\_\-index} $\ast$$\ast$i, uint64\-\_\-t $\ast$memlimit, {\bf lzma\-\_\-allocator} $\ast$allocator, const uint8\-\_\-t $\ast$in, size\-\_\-t $\ast$in\-\_\-pos, size\-\_\-t in\-\_\-size)
\begin{DoxyCompactList}\small\item\em Single-\/call .xz Index decoder. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Decodes the Index field. 

\subsection{Function Documentation}
\index{index\-\_\-decoder.\-c@{index\-\_\-decoder.\-c}!lzma\-\_\-index\-\_\-decoder@{lzma\-\_\-index\-\_\-decoder}}
\index{lzma\-\_\-index\-\_\-decoder@{lzma\-\_\-index\-\_\-decoder}!index_decoder.c@{index\-\_\-decoder.\-c}}
\subsubsection[{lzma\-\_\-index\-\_\-decoder}]{\setlength{\rightskip}{0pt plus 5cm}{\bf lzma\-\_\-ret} lzma\-\_\-index\-\_\-decoder (
\begin{DoxyParamCaption}
\item[{{\bf lzma\-\_\-stream} $\ast$}]{strm, }
\item[{{\bf lzma\-\_\-index} $\ast$$\ast$}]{i, }
\item[{uint64\-\_\-t}]{memlimit}
\end{DoxyParamCaption}
)}\label{index__decoder_8c_a8a43bb2ce4b3d5165db980fcdaa0a5ce}


Initialize .xz Index decoder. 


\begin{DoxyParams}{Parameters}
{\em strm} & Pointer to properly prepared \doxyref{lzma\-\_\-stream}{p.}{structlzma__stream} \\
\hline
{\em i} & The decoded Index will be made available via this pointer. Initially this function will set $\ast$i to N\-U\-L\-L (the old value is ignored). If decoding succeeds (\doxyref{lzma\-\_\-code()}{p.}{base_8h_a28cc09bc422d5ba1e0187c9f2af5d957} returns L\-Z\-M\-A\-\_\-\-S\-T\-R\-E\-A\-M\-\_\-\-E\-N\-D), $\ast$i will be set to point to a new lzma\-\_\-index, which the application has to later free with \doxyref{lzma\-\_\-index\-\_\-end()}{p.}{api_2lzma_2index_8h_a469f89689529ea250969bb64f80ab874}. \\
\hline
{\em memlimit} & How much memory the resulting lzma\-\_\-index is allowed to require.\\
\hline
\end{DoxyParams}
The valid `action' values for \doxyref{lzma\-\_\-code()}{p.}{base_8h_a28cc09bc422d5ba1e0187c9f2af5d957} are L\-Z\-M\-A\-\_\-\-R\-U\-N and L\-Z\-M\-A\-\_\-\-F\-I\-N\-I\-S\-H. It is enough to use only one of them (you can choose freely; use L\-Z\-M\-A\-\_\-\-R\-U\-N to support liblzma versions older than 5.\-0.\-0).

\begin{DoxyReturn}{Returns}
-\/ L\-Z\-M\-A\-\_\-\-O\-K\-: Initialization succeeded, continue with \doxyref{lzma\-\_\-code()}{p.}{base_8h_a28cc09bc422d5ba1e0187c9f2af5d957}.
\begin{DoxyItemize}
\item L\-Z\-M\-A\-\_\-\-M\-E\-M\-\_\-\-E\-R\-R\-O\-R
\item L\-Z\-M\-A\-\_\-\-M\-E\-M\-L\-I\-M\-I\-T\-\_\-\-E\-R\-R\-O\-R
\item L\-Z\-M\-A\-\_\-\-P\-R\-O\-G\-\_\-\-E\-R\-R\-O\-R 
\end{DoxyItemize}
\end{DoxyReturn}


References L\-Z\-M\-A\-\_\-\-F\-I\-N\-I\-S\-H, lzma\-\_\-next\-\_\-strm\-\_\-init, L\-Z\-M\-A\-\_\-\-O\-K, and L\-Z\-M\-A\-\_\-\-R\-U\-N.



Referenced by parse\-\_\-indexes().

\index{index\-\_\-decoder.\-c@{index\-\_\-decoder.\-c}!lzma\-\_\-index\-\_\-buffer\-\_\-decode@{lzma\-\_\-index\-\_\-buffer\-\_\-decode}}
\index{lzma\-\_\-index\-\_\-buffer\-\_\-decode@{lzma\-\_\-index\-\_\-buffer\-\_\-decode}!index_decoder.c@{index\-\_\-decoder.\-c}}
\subsubsection[{lzma\-\_\-index\-\_\-buffer\-\_\-decode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf lzma\-\_\-ret} lzma\-\_\-index\-\_\-buffer\-\_\-decode (
\begin{DoxyParamCaption}
\item[{{\bf lzma\-\_\-index} $\ast$$\ast$}]{i, }
\item[{uint64\-\_\-t $\ast$}]{memlimit, }
\item[{{\bf lzma\-\_\-allocator} $\ast$}]{allocator, }
\item[{const uint8\-\_\-t $\ast$}]{in, }
\item[{size\-\_\-t $\ast$}]{in\-\_\-pos, }
\item[{size\-\_\-t}]{in\-\_\-size}
\end{DoxyParamCaption}
)}\label{index__decoder_8c_a81533a8f0a676b67380e6bd0a255f9df}


Single-\/call .xz Index decoder. 


\begin{DoxyParams}{Parameters}
{\em i} & If decoding succeeds, $\ast$i will point to a new lzma\-\_\-index, which the application has to later free with \doxyref{lzma\-\_\-index\-\_\-end()}{p.}{api_2lzma_2index_8h_a469f89689529ea250969bb64f80ab874}. If an error occurs, $\ast$i will be N\-U\-L\-L. The old value of $\ast$i is always ignored and thus doesn't need to be initialized by the caller. \\
\hline
{\em memlimit} & Pointer to how much memory the resulting lzma\-\_\-index is allowed to require. The value pointed by this pointer is modified if and only if L\-Z\-M\-A\-\_\-\-M\-E\-M\-L\-I\-M\-I\-T\-\_\-\-E\-R\-R\-O\-R is returned. \\
\hline
{\em allocator} & Pointer to \doxyref{lzma\-\_\-allocator}{p.}{structlzma__allocator}, or N\-U\-L\-L to use malloc() \\
\hline
{\em in} & Beginning of the input buffer \\
\hline
{\em in\-\_\-pos} & The next byte will be read from in[$\ast$in\-\_\-pos]. $\ast$in\-\_\-pos is updated only if decoding succeeds. \\
\hline
{\em in\-\_\-size} & Size of the input buffer; the first byte that won't be read is in[in\-\_\-size].\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ L\-Z\-M\-A\-\_\-\-O\-K\-: Decoding was successful.
\begin{DoxyItemize}
\item L\-Z\-M\-A\-\_\-\-M\-E\-M\-\_\-\-E\-R\-R\-O\-R
\item L\-Z\-M\-A\-\_\-\-M\-E\-M\-L\-I\-M\-I\-T\-\_\-\-E\-R\-R\-O\-R\-: Memory usage limit was reached. The minimum required memlimit value was stored to $\ast$memlimit.
\item L\-Z\-M\-A\-\_\-\-D\-A\-T\-A\-\_\-\-E\-R\-R\-O\-R
\item L\-Z\-M\-A\-\_\-\-P\-R\-O\-G\-\_\-\-E\-R\-R\-O\-R 
\end{DoxyItemize}
\end{DoxyReturn}


References lzma\-\_\-coder\-\_\-s\-::count, lzma\-\_\-coder\-\_\-s\-::index, L\-Z\-M\-A\-\_\-\-D\-A\-T\-A\-\_\-\-E\-R\-R\-O\-R, lzma\-\_\-index\-\_\-end(), lzma\-\_\-index\-\_\-memusage(), L\-Z\-M\-A\-\_\-\-O\-K, L\-Z\-M\-A\-\_\-\-P\-R\-O\-G\-\_\-\-E\-R\-R\-O\-R, L\-Z\-M\-A\-\_\-\-R\-U\-N, L\-Z\-M\-A\-\_\-\-S\-T\-R\-E\-A\-M\-\_\-\-E\-N\-D, and return\-\_\-if\-\_\-error.

