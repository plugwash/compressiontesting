<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>XZ Utils: liblzma/lzma/lzma_common.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">XZ Utils
   &#160;<span id="projectnumber">5.1.0alpha</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2e0898c272e1f0f93c8ef15f5da2a912.html">liblzma</a></li><li class="navelem"><a class="el" href="dir_ac7229a575da173bd8a390f0921c5810.html">lzma</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">lzma_common.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Private definitions common to LZMA encoder and decoder.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="common_8h.html">common.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="range__common_8h.html">range_common.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a745eda4922193007c4b894dd75330549"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#a745eda4922193007c4b894dd75330549">POS_STATES_MAX</a>&#160;&#160;&#160;(1 &lt;&lt; LZMA_PB_MAX)</td></tr>
<tr class="memitem:ab09b5cfbb756f1b30c59bf321716fd2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#ab09b5cfbb756f1b30c59bf321716fd2e">STATES</a>&#160;&#160;&#160;12</td></tr>
<tr class="memdesc:ab09b5cfbb756f1b30c59bf321716fd2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of states.  <a href="#ab09b5cfbb756f1b30c59bf321716fd2e"></a><br/></td></tr>
<tr class="memitem:ae303e2388293410797ababce2713a272"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#ae303e2388293410797ababce2713a272">LIT_STATES</a>&#160;&#160;&#160;7</td></tr>
<tr class="memdesc:ae303e2388293410797ababce2713a272"><td class="mdescLeft">&#160;</td><td class="mdescRight">The lowest 7 states indicate that the previous state was a literal.  <a href="#ae303e2388293410797ababce2713a272"></a><br/></td></tr>
<tr class="memitem:a0e9345ff8ee7be54bb081533ee90983d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#a0e9345ff8ee7be54bb081533ee90983d">update_literal</a>(state)</td></tr>
<tr class="memdesc:a0e9345ff8ee7be54bb081533ee90983d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the latest state was a literal.  <a href="#a0e9345ff8ee7be54bb081533ee90983d"></a><br/></td></tr>
<tr class="memitem:a5341ef2436de312cfe09acbe07a0845d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#a5341ef2436de312cfe09acbe07a0845d">update_match</a>(state)&#160;&#160;&#160;state = ((state) &lt; <a class="el" href="lzma__common_8h.html#ae303e2388293410797ababce2713a272">LIT_STATES</a> ? STATE_LIT_MATCH : STATE_NONLIT_MATCH)</td></tr>
<tr class="memdesc:a5341ef2436de312cfe09acbe07a0845d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the latest state was a match.  <a href="#a5341ef2436de312cfe09acbe07a0845d"></a><br/></td></tr>
<tr class="memitem:acf8d33862abfe91c6ff1af15c0dfc3ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#acf8d33862abfe91c6ff1af15c0dfc3ba">update_long_rep</a>(state)&#160;&#160;&#160;state = ((state) &lt; <a class="el" href="lzma__common_8h.html#ae303e2388293410797ababce2713a272">LIT_STATES</a> ? STATE_LIT_LONGREP : STATE_NONLIT_REP)</td></tr>
<tr class="memdesc:acf8d33862abfe91c6ff1af15c0dfc3ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the latest state was a long repeated match.  <a href="#acf8d33862abfe91c6ff1af15c0dfc3ba"></a><br/></td></tr>
<tr class="memitem:af249e4b787501e8a14ac344921662de5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#af249e4b787501e8a14ac344921662de5">update_short_rep</a>(state)&#160;&#160;&#160;state = ((state) &lt; <a class="el" href="lzma__common_8h.html#ae303e2388293410797ababce2713a272">LIT_STATES</a> ? STATE_LIT_SHORTREP : STATE_NONLIT_REP)</td></tr>
<tr class="memdesc:af249e4b787501e8a14ac344921662de5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the latest state was a short match.  <a href="#af249e4b787501e8a14ac344921662de5"></a><br/></td></tr>
<tr class="memitem:a36e3126576fdcc6041d647ab2c507050"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#a36e3126576fdcc6041d647ab2c507050">is_literal_state</a>(state)&#160;&#160;&#160;((state) &lt; <a class="el" href="lzma__common_8h.html#ae303e2388293410797ababce2713a272">LIT_STATES</a>)</td></tr>
<tr class="memdesc:a36e3126576fdcc6041d647ab2c507050"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if the previous state was a literal.  <a href="#a36e3126576fdcc6041d647ab2c507050"></a><br/></td></tr>
<tr class="memitem:a10b5f469b05969cb31c55a66e0de8803"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#a10b5f469b05969cb31c55a66e0de8803">LITERAL_CODER_SIZE</a>&#160;&#160;&#160;0x300</td></tr>
<tr class="memitem:aec4bc6b32a64f98d6ff9c04034a42cb9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#aec4bc6b32a64f98d6ff9c04034a42cb9">LITERAL_CODERS_MAX</a>&#160;&#160;&#160;(1 &lt;&lt; LZMA_LCLP_MAX)</td></tr>
<tr class="memdesc:aec4bc6b32a64f98d6ff9c04034a42cb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of literal coders.  <a href="#aec4bc6b32a64f98d6ff9c04034a42cb9"></a><br/></td></tr>
<tr class="memitem:a76c5317ac9a42bdc6349815648fd7707"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#a76c5317ac9a42bdc6349815648fd7707">literal_subcoder</a>(probs, lc, lp_mask, pos, prev_byte)&#160;&#160;&#160;((probs)[(((pos) &amp; lp_mask) &lt;&lt; lc) + ((prev_byte) &gt;&gt; (8 - lc))])</td></tr>
<tr class="memitem:a0446368a60f0eed3d573bb60c115fe36"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0446368a60f0eed3d573bb60c115fe36"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MATCH_LEN_MIN</b>&#160;&#160;&#160;2</td></tr>
<tr class="memitem:ab1cd94a55a8eb66c6e40dd0c18f9840d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1cd94a55a8eb66c6e40dd0c18f9840d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LEN_LOW_BITS</b>&#160;&#160;&#160;3</td></tr>
<tr class="memitem:a090242ace12ca4570533bb3188d940ae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a090242ace12ca4570533bb3188d940ae"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LEN_LOW_SYMBOLS</b>&#160;&#160;&#160;(1 &lt;&lt; LEN_LOW_BITS)</td></tr>
<tr class="memitem:a643cc8be6c5192ff525b14194327bd79"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a643cc8be6c5192ff525b14194327bd79"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LEN_MID_BITS</b>&#160;&#160;&#160;3</td></tr>
<tr class="memitem:a41b4c58d4c4c3bfe41a7b73329e581d0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a41b4c58d4c4c3bfe41a7b73329e581d0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LEN_MID_SYMBOLS</b>&#160;&#160;&#160;(1 &lt;&lt; LEN_MID_BITS)</td></tr>
<tr class="memitem:ae09b9993a1717f3f867dc50e8f07665a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae09b9993a1717f3f867dc50e8f07665a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LEN_HIGH_BITS</b>&#160;&#160;&#160;8</td></tr>
<tr class="memitem:aaae9f1f1f03f4a686f03d127d8df4b83"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaae9f1f1f03f4a686f03d127d8df4b83"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LEN_HIGH_SYMBOLS</b>&#160;&#160;&#160;(1 &lt;&lt; LEN_HIGH_BITS)</td></tr>
<tr class="memitem:a07c07c3a78ddd32b8688a98be11fcb3d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a07c07c3a78ddd32b8688a98be11fcb3d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LEN_SYMBOLS</b>&#160;&#160;&#160;(LEN_LOW_SYMBOLS + LEN_MID_SYMBOLS + LEN_HIGH_SYMBOLS)</td></tr>
<tr class="memitem:a035b46ae64c71e0a6a2cbadb2919e95c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a035b46ae64c71e0a6a2cbadb2919e95c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MATCH_LEN_MAX</b>&#160;&#160;&#160;(MATCH_LEN_MIN + LEN_SYMBOLS - 1)</td></tr>
<tr class="memitem:a3afda544104deb6878935b33cb3fb027"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3afda544104deb6878935b33cb3fb027"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DIST_STATES</b>&#160;&#160;&#160;4</td></tr>
<tr class="memitem:a704ef120888c4b6b3b7603577036600b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>get_dist_state</b>(len)</td></tr>
<tr class="memitem:a36b6c4eaec443dc813e12e1aaadfb97c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36b6c4eaec443dc813e12e1aaadfb97c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DIST_SLOT_BITS</b>&#160;&#160;&#160;6</td></tr>
<tr class="memitem:a903523e973d201db2ab82a5284b0b40f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a903523e973d201db2ab82a5284b0b40f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DIST_SLOTS</b>&#160;&#160;&#160;(1 &lt;&lt; DIST_SLOT_BITS)</td></tr>
<tr class="memitem:ae5011f8df31787b3fab5dab429f1f7ff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae5011f8df31787b3fab5dab429f1f7ff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DIST_MODEL_START</b>&#160;&#160;&#160;4</td></tr>
<tr class="memitem:aa61c0222da66043346632577d364896c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa61c0222da66043346632577d364896c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DIST_MODEL_END</b>&#160;&#160;&#160;14</td></tr>
<tr class="memitem:a02121326061ce76c4f1f2119f90bcd39"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02121326061ce76c4f1f2119f90bcd39"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FULL_DISTANCES_BITS</b>&#160;&#160;&#160;(DIST_MODEL_END / 2)</td></tr>
<tr class="memitem:a638ba3ec1c265efcd7bb1812534186f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a638ba3ec1c265efcd7bb1812534186f6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FULL_DISTANCES</b>&#160;&#160;&#160;(1 &lt;&lt; FULL_DISTANCES_BITS)</td></tr>
<tr class="memitem:a2ae9aed5395d2113810e0c5067064605"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ae9aed5395d2113810e0c5067064605"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ALIGN_BITS</b>&#160;&#160;&#160;4</td></tr>
<tr class="memitem:a65d1ea18e1cbfa27d9d1952f05e31e60"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65d1ea18e1cbfa27d9d1952f05e31e60"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ALIGN_SIZE</b>&#160;&#160;&#160;(1 &lt;&lt; ALIGN_BITS)</td></tr>
<tr class="memitem:a9acfa53ba535d32d76682f5d3e893c05"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9acfa53ba535d32d76682f5d3e893c05"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ALIGN_MASK</b>&#160;&#160;&#160;(ALIGN_SIZE - 1)</td></tr>
<tr class="memitem:a28973becc878febad71571123f7df2c9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28973becc878febad71571123f7df2c9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REPS</b>&#160;&#160;&#160;4</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a0898e5dfe84ee35425db2d9f6fbfa3d2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#a0898e5dfe84ee35425db2d9f6fbfa3d2">lzma_lzma_state</a> { <br/>
&#160;&#160;<b>STATE_LIT_LIT</b>, 
<b>STATE_MATCH_LIT_LIT</b>, 
<b>STATE_REP_LIT_LIT</b>, 
<b>STATE_SHORTREP_LIT_LIT</b>, 
<br/>
&#160;&#160;<b>STATE_MATCH_LIT</b>, 
<b>STATE_REP_LIT</b>, 
<b>STATE_SHORTREP_LIT</b>, 
<b>STATE_LIT_MATCH</b>, 
<br/>
&#160;&#160;<b>STATE_LIT_LONGREP</b>, 
<b>STATE_LIT_SHORTREP</b>, 
<b>STATE_NONLIT_MATCH</b>, 
<b>STATE_NONLIT_REP</b>
<br/>
 }</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aedd478d0358af2297a6cac1d73540e85"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lzma__common_8h.html#aedd478d0358af2297a6cac1d73540e85">is_lclppb_valid</a> (const <a class="el" href="structlzma__options__lzma.html">lzma_options_lzma</a> *options)</td></tr>
<tr class="memdesc:aedd478d0358af2297a6cac1d73540e85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates lc, lp, and pb.  <a href="#aedd478d0358af2297a6cac1d73540e85"></a><br/></td></tr>
<tr class="memitem:aa08e52ba6f25a872abac5c7055400412"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa08e52ba6f25a872abac5c7055400412"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>literal_init</b> (<a class="el" href="range__common_8h.html#a34c0f9a451832941a8aa04aa8e085efa">probability</a>(*probs)[<a class="el" href="lzma__common_8h.html#a10b5f469b05969cb31c55a66e0de8803">LITERAL_CODER_SIZE</a>], uint32_t lc, uint32_t lp)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Private definitions common to LZMA encoder and decoder. </p>
</div><h2>Macro Definition Documentation</h2>
<a class="anchor" id="a745eda4922193007c4b894dd75330549"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POS_STATES_MAX&#160;&#160;&#160;(1 &lt;&lt; LZMA_PB_MAX)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number of position states. A position state is the lowest pos bits number of bits of the current uncompressed offset. In some places there are different sets of probabilities for different pos states. </p>

</div>
</div>
<a class="anchor" id="ab09b5cfbb756f1b30c59bf321716fd2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATES&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Total number of states. </p>

</div>
</div>
<a class="anchor" id="ae303e2388293410797ababce2713a272"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LIT_STATES&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The lowest 7 states indicate that the previous state was a literal. </p>

</div>
</div>
<a class="anchor" id="a0e9345ff8ee7be54bb081533ee90983d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define update_literal</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">state</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">state = ((state) &lt;= STATE_SHORTREP_LIT_LIT \</div>
<div class="line">                        ? STATE_LIT_LIT \</div>
<div class="line">                        : ((state) &lt;= STATE_LIT_SHORTREP \</div>
<div class="line">                                ? (state) - 3 \</div>
<div class="line">                                : (state) - 6))</div>
</div><!-- fragment -->
<p>Indicate that the latest state was a literal. </p>

</div>
</div>
<a class="anchor" id="a5341ef2436de312cfe09acbe07a0845d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define update_match</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">state</td><td>)</td>
          <td>&#160;&#160;&#160;state = ((state) &lt; <a class="el" href="lzma__common_8h.html#ae303e2388293410797ababce2713a272">LIT_STATES</a> ? STATE_LIT_MATCH : STATE_NONLIT_MATCH)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that the latest state was a match. </p>

</div>
</div>
<a class="anchor" id="acf8d33862abfe91c6ff1af15c0dfc3ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define update_long_rep</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">state</td><td>)</td>
          <td>&#160;&#160;&#160;state = ((state) &lt; <a class="el" href="lzma__common_8h.html#ae303e2388293410797ababce2713a272">LIT_STATES</a> ? STATE_LIT_LONGREP : STATE_NONLIT_REP)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that the latest state was a long repeated match. </p>

</div>
</div>
<a class="anchor" id="af249e4b787501e8a14ac344921662de5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define update_short_rep</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">state</td><td>)</td>
          <td>&#160;&#160;&#160;state = ((state) &lt; <a class="el" href="lzma__common_8h.html#ae303e2388293410797ababce2713a272">LIT_STATES</a> ? STATE_LIT_SHORTREP : STATE_NONLIT_REP)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that the latest state was a short match. </p>

</div>
</div>
<a class="anchor" id="a36e3126576fdcc6041d647ab2c507050"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define is_literal_state</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">state</td><td>)</td>
          <td>&#160;&#160;&#160;((state) &lt; <a class="el" href="lzma__common_8h.html#ae303e2388293410797ababce2713a272">LIT_STATES</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if the previous state was a literal. </p>

</div>
</div>
<a class="anchor" id="a10b5f469b05969cb31c55a66e0de8803"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LITERAL_CODER_SIZE&#160;&#160;&#160;0x300</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Each literal coder is divided in three sections:</p>
<ul>
<li>0x001-0x0FF: Without match byte</li>
<li>0x101-0x1FF: With match byte; match bit is 0</li>
<li>0x201-0x2FF: With match byte; match bit is 1</li>
</ul>
<p>Match byte is used when the previous LZMA symbol was something else than a literal (that is, it was some kind of match). </p>

</div>
</div>
<a class="anchor" id="aec4bc6b32a64f98d6ff9c04034a42cb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LITERAL_CODERS_MAX&#160;&#160;&#160;(1 &lt;&lt; LZMA_LCLP_MAX)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of literal coders. </p>

</div>
</div>
<a class="anchor" id="a76c5317ac9a42bdc6349815648fd7707"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define literal_subcoder</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">probs, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lp_mask, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pos, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">prev_byte&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((probs)[(((pos) &amp; lp_mask) &lt;&lt; lc) + ((prev_byte) &gt;&gt; (8 - lc))])</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locate the literal coder for the next literal byte. The choice depends on</p>
<ul>
<li>the lowest literal_pos_bits bits of the position of the current byte; and</li>
<li>the highest literal_context_bits bits of the previous byte. </li>
</ul>

</div>
</div>
<a class="anchor" id="a704ef120888c4b6b3b7603577036600b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define get_dist_state</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">len</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((len) &lt; DIST_STATES + MATCH_LEN_MIN \</div>
<div class="line">                ? (len) - MATCH_LEN_MIN \</div>
<div class="line">                : DIST_STATES - 1)</div>
</div><!-- fragment -->
</div>
</div>
<h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a0898e5dfe84ee35425db2d9f6fbfa3d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="lzma__common_8h.html#a0898e5dfe84ee35425db2d9f6fbfa3d2">lzma_lzma_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enum is used to track which events have occurred most recently and in which order. This information is used to predict the next event.</p>
<p>Events:</p>
<ul>
<li>Literal: One 8-bit byte</li>
<li>Match: Repeat a chunk of data at some distance</li>
<li>Long repeat: Multi-byte match at a recently seen distance</li>
<li>Short repeat: One-byte repeat at a recently seen distance</li>
</ul>
<p>The event names are in from STATE_oldest_older_previous. REP means either short or long repeated match, and NONLIT means any non-literal. </p>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="aedd478d0358af2297a6cac1d73540e85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_lclppb_valid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlzma__options__lzma.html">lzma_options_lzma</a> *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates lc, lp, and pb. </p>

<p>References <a class="el" href="structlzma__options__lzma.html#a95f6188e5b5f05c50ec463a315df3585">lzma_options_lzma::lc</a>, <a class="el" href="structlzma__options__lzma.html#a0fe9c54e808fce3090b6994d95fe41fe">lzma_options_lzma::lp</a>, and <a class="el" href="structlzma__options__lzma.html#acae107b3d3e9d0d4fe16103be22f4408">lzma_options_lzma::pb</a>.</p>

<p>Referenced by <a class="el" href="lzma__decoder_8c.html#ade97427138afb2587187e091e6230f24">lzma_decoder_init()</a>, and <a class="el" href="lzma__encoder_8h.html#a24e42d27f537c4382fe298c9909b1a52">lzma_lzma_lclppb_encode()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 5 2014 14:34:57 for XZ Utils by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
